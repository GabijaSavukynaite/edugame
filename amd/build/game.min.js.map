{"version":3,"sources":["../src/game.js"],"names":["require","config","paths","define","Phaser","$","Y","notification","ajax","init","q","qid","Cloud","scene","x","y","fraction","index","setTexture","setPosition","add","existing","physics","Physics","Arcade","Sprite","GameScreen","questions","edugameId","clouds","ground","player","cursors","score","scoreText","questionText","answersText","level","corretMultipleAnswers","showNewQuestion","collider","data","image","group","sprite","setBounce","setCollideWorldBounds","frameNames","anims","generateFrameNames","start","end","prefix","suffix","create","key","frames","frameRate","frame","console","log","JSON","stringify","text","question","fontSize","fontFamily","fill","gap","answers","length","position","type","push","setOrigin","i","input","keyboard","createCursorKeys","left","isDown","setFlipX","setVelocityX","play","right","up","body","blocked","down","setVelocityY","time","addEvent","delay","callback","clear","setText","destroy","single","enableBody","loop","overlap","cloud","parseFloat","toFixed","answerIndex","findIndex","splice","endGame","grade","Math","round","call","methodname","args","edugameid","trunc","fail","exception","Scene","StartScreen","load","multiatlas","button","setInteractive","on","ResultScreen","resultText","AUTO","width","height","default","arcade","gravity","debug","parent","game","Game"],"mappings":"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","sourcesContent":["// Put this file in path/to/plugin/amd/src\n// You can call it anything you like\nrequire.config({\n    paths: {\n        \"Phaser\": \"https://cdnjs.cloudflare.com/ajax/libs/phaser/3.22.0/phaser.min\"\n    }\n});\n\ndefine(['Phaser', 'jquery', 'core/yui', 'core/notification', 'core/ajax'], function (Phaser, $, Y, notification, ajax) {\n\n    return {\n        init: function (q, qid) {\n\n            class Cloud extends Phaser.Physics.Arcade.Sprite {\n                constructor(scene, x, y, fraction, index) {\n                    super(scene, x, y, fraction, index);\n                    this.fraction = fraction;\n                    this.index = index;\n\n                    this.setTexture('cloud');\n                    this.setPosition(x, y);\n                    scene.add.existing(this);\n                    scene.physics.add.existing(this, true);\n\n                }\n            }\n\n            class GameScreen extends Phaser.Scene {\n                constructor(data) {\n                    super('GameScreen');\n                    this.questions;\n                    this.edugameId;\n                    this.clouds;\n                    this.ground;\n                    this.player;\n                    this.cursors;\n                    this.score = 0;\n                    this.scoreText;\n                    this.questionText;\n                    this.answersText = [];\n                    this.level = 1;\n                    this.corretMultipleAnswers = [];\n                    this.showNewQuestion = false;\n                    this.collider\n                }\n                init(data) {\n                    this.questions = data.questions;\n                    this.edugameId = data.edugameId;\n                }\n\n                preload() {\n\n                }\n\n                create() {\n                    this.score = 0;\n                    this.answersText = [];\n                    this.level = 1;\n                    this.corretMultipleAnswers = [];\n                    this.showNewQuestion = false;\n                    this.add.image(400, 300, 'sky');\n\n                    this.clouds = this.add.group();\n                    this.ground = this.add.sprite(400, 555, 'dirt')\n                    this.physics.add.existing(this.ground, true);\n\n                    this.player = this.physics.add.sprite(100, 400, 'player', 'character/idle.png');\n\n                    this.player.setBounce(0.2);\n                    this.player.setCollideWorldBounds(true);\n                    var frameNames = this.anims.generateFrameNames('player', { start: 0, end: 17, prefix: 'character/', suffix: '.png' });\n                    this.anims.create({\n                        key: 'walk',\n                        frames: frameNames,\n                        frameRate: 20\n                    });\n                    this.anims.create({\n                        key: 'idle',\n                        frames: [{ key: 'player', frame: 'character/idle.png' }],\n                        frameRate: 20\n                    });\n                    this.anims.create({\n                        key: 'jump',\n                        frames: [{ key: 'player', frame: 'character/jump.png' }],\n                        frameRate: 20\n                    });\n                    console.log(JSON.stringify(this.questions))\n                    this.physics.add.collider(this.player, this.ground);\n                    //this.physics.add.overlap(this.player, this.clouds, this.touchCloud, null, this);\n                    this.questionText = this.add.text(16, 530, this.questions[this.level - 1].question, { fontSize: \"25px\", fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' });\n                    this.scoreText = this.add.text(16, 580, 'Rezultatas: 0', { fontSize: '20px', fill: '#fff' });\n\n                    var gap = 800 / this.questions[this.level - 1].answers.length\n                    var position = gap / 2;\n                    if (this.questions[this.level - 1].type == 'truefalse') {\n                        this.clouds.add(new Cloud(this, position, 50, this.questions[0].answers[0].fraction, 0))\n                        this.answersText.push(\n                            this.add.text(position, 50, this.questions[0].answers[0].text == \"True\" ? \"Tiesa\" : \"Netiesa\",\n                                { fontSize: 25, fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }).setOrigin(0.5),\n\n                        );\n                        position += gap;\n                        this.clouds.add(new Cloud(this, position, 50, this.questions[0].answers[1].fraction, 1))\n                        this.answersText.push(\n                            this.add.text(position, 50, this.questions[0].answers[1].text == \"True\" ? \"Tiesa\" : \"Netiesa\",\n                                { fontSize: 25, fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }).setOrigin(0.5),\n                        );\n                    }\n                    else {\n                        var i;\n                        for (i = 0; i < this.questions[this.level - 1].answers.length; i++) {\n                            this.clouds.add(new Cloud(this, position, 50, this.questions[this.level - 1].answers[i].fraction, i))\n                            var text = this.add.text(position, 50, this.questions[this.level - 1].answers[i].text, { fontSize: \"25px\", fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' })\n                            text.setOrigin(0.5);\n                            this.answersText.push(text)\n\n                            if (this.questions[this.level - 1].answers[i].fraction > 0) {\n                                this.corretMultipleAnswers.push(i);\n                            }\n                            position += gap;\n                        }\n                    }\n                }\n                update() {\n                    this.cursors = this.input.keyboard.createCursorKeys();\n                    if (this.cursors.left.isDown) {\n                        this.player.setFlipX(true);\n                        this.player.setVelocityX(-200);\n                        this.player.anims.play('walk', true);\n\n                    }\n                    else if (this.cursors.right.isDown) {\n                        this.player.setFlipX(false);\n                        this.player.setVelocityX(200);\n                        this.player.anims.play('walk', true);\n                    }\n                    else if (this.cursors.up.isDown) {\n                        this.player.anims.play('jump', true);\n                        if (this.player.body.blocked.down) {\n                            this.player.setVelocityY(-600);\n                        }\n                    }\n                    else {\n                        this.player.setVelocityX(0);\n                        this.player.anims.play('idle', true);\n                    }\n\n                    if (this.showNewQuestion) {\n                        this.showNewQuestion = false;\n\n\n                        this.time.addEvent({\n                            delay: 1000,\n                            callback: () => {\n                                this.clouds.clear(true, true);\n                                this.questionText.setText(this.questions[this.level - 1].question);\n                                for (var i in this.answersText) {\n                                    this.answersText[i].destroy();\n                                }\n                                this.answersText = [];\n                                this.corretMultipleAnswers = [];\n\n                                var gap = 800 / this.questions[this.level - 1].answers.length\n                                var position = gap / 2;\n                                if (this.questions[this.level - 1].type == 'truefalse') {\n                                    this.clouds.add(new Cloud(this, position, 50, this.questions[0].answers[0].fraction, 0))\n                                    this.answersText.push(\n                                        this.add.text(position, 50, this.questions[0].answers[0].text == \"True\" ? \"Tiesa\" : \"Netiesa\",\n                                            { fontSize: 25, fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }).setOrigin(0.5),\n                                    );\n                                    position += gap;\n                                    this.clouds.add(new Cloud(this, position, 50, this.questions[0].answers[1].fraction, 1))\n                                    this.answersText.push(\n                                        this.add.text(position, 50, this.questions[0].answers[1].text == \"True\" ? \"Tiesa\" : \"Netiesa\",\n                                            { fontSize: 25, fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }).setOrigin(0.5),\n                                    );\n                                }\n                                else {\n                                    var i;\n                                    for (i = 0; i < this.questions[this.level - 1].answers.length; i++) {\n                                        this.clouds.add(new Cloud(this, position, 50, this.questions[this.level - 1].answers[i].fraction, i))\n                                        var text = this.add.text(position, 50, this.questions[this.level - 1].answers[i].text, { fontSize: \"25px\", fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' })\n                                        text.setOrigin(0.5);\n                                        this.answersText.push(text)\n\n                                        if (!this.questions[this.level - 1].single) {\n                                            if (this.questions[this.level - 1].answers[i].fraction > 0) {\n                                                this.corretMultipleAnswers.push(i);\n                                            }\n                                        }\n                                        position += gap;\n                                    }\n                                }\n                                this.clouds.enableBody = true;\n                                // if (this.collider != null) {\n                                //     this.collider.destroy();\n                                // }\n                            },\n                            loop: false\n                        })\n                    }\n\n                    this.collider = this.physics.add.overlap(this.player, this.clouds, function (player, cloud) {\n                        var fraction = parseFloat(cloud.fraction);\n                        this.answersText[cloud.index].destroy()\n                        this.score = (parseFloat(this.score) + fraction).toFixed(2);\n                        cloud.destroy(true, true);\n                        this.scoreText.setText('Rezultatas: ' + this.score);\n                        if (fraction > 0) {\n                            if (this.questions[this.level - 1].type == \"multichoice\" && this.corretMultipleAnswers.length > 1) {\n                                var answerIndex = this.corretMultipleAnswers.findIndex(answerIndex => answerIndex == cloud.index);\n                                this.corretMultipleAnswers = this.corretMultipleAnswers.splice(answerIndex, 1);\n                            }\n                            else {\n                                if (this.level >= this.questions.length) {\n                                    this.endGame();\n                                }\n                                else {\n                                    this.level++;\n                                    this.showNewQuestion = true;\n                                }\n                            }\n                        }\n\n                        // if (this.corretMultipleAnswers.length > 1) {\n                        //     var answerIndex = this.corretMultipleAnswers.findIndex(answerIndex => answerIndex == cloud.index);\n                        //     this.corretMultipleAnswers = this.corretMultipleAnswers.splice(answerIndex, 1);\n                        // }\n                        // else {\n                        //     this.level++;\n                        //     this.showNewQuestion = true;\n                        // }\n                        // if (this.questions[this.level - 1].type == \"multichoice\" && this.corretMultipleAnswers.length > 0 && cloud.fraction > 0) {\n                        //     if (this.corretMultipleAnswers.length == 1) {\n                        //         this.level++;\n                        //         this.showNewQuestion = true;\n                        //     }\n                        //     else {\n                        //         var answerIndex = this.corretMultipleAnswers.findIndex(answerIndex => answerIndex == cloud.index);\n                        //         this.corretMultipleAnswers = this.corretMultipleAnswers.splice(answerIndex, 1);\n                        //     }\n                        // }\n                        // else {\n                        //     console.log(\"collider level \" + this.level)\n                        //     if (this.level >= this.questions.length) {\n                        //         this.endGame();\n                        //     }\n                        //     else {\n                        //         this.level++;\n                        //         this.showNewQuestion = true;\n                        //     }\n                        // }\n                    }, null, this)\n                }\n\n                // touchCloud(player, cloud) {\n                //     this.answersText[cloud.index].destroy()\n                //     this.score += parseFloat(cloud.fraction);\n                //     cloud.destroy();\n                //     this.scoreText.setText('Rezultatas: ' + this.score);\n                //     if (this.corretMultipleAnswers.length > 1) {\n                //         var answerIndex = this.corretMultipleAnswers.findIndex(answerIndex => answerIndex == cloud.index);\n                //         this.corretMultipleAnswers = this.corretMultipleAnswers.splice(answerIndex, 1);\n                //     }\n                //     else {\n                //         this.showNewQuestion = true;\n                //     }\n                //     if (this.questions[this.level - 1].type == \"multichoice\" && this.corretMultipleAnswers.length > 0 && cloud.fraction > 0) {\n                //         if (this.corretMultipleAnswers.length == 1) {\n                //             this.showNewQuestion = true;\n                //         }\n                //         else {\n                //             var answerIndex = this.corretMultipleAnswers.findIndex(answerIndex => answerIndex == cloud.index);\n                //             this.corretMultipleAnswers = this.corretMultipleAnswers.splice(answerIndex, 1);\n                //         }\n                //     }\n\n                //     else {\n                //         console.log(\"level \" + this.level + \" \" + this.questions.length)\n                //         if (this.level >= this.questions.length) {\n                //             this.endGame();\n                //         }\n                //         else {\n                //             this.showNewQuestion = true;\n                //         }\n                //     }\n                // }\n\n                endGame() {\n                    var grade;\n                    if (this.score > 0) {\n                        grade = this.score * 10 / this.questions.length;\n                        grade = Math.round(grade);\n                    }\n                    ajax.call([{\n                        methodname: 'mod_edugame_add_score',\n                        args: { edugameid: this.edugameId, score: Math.trunc(grade) },\n                        fail: notification.exception\n                    }]);\n                    this.scene.start('ResultScreen',\n                        {\n                            questions: this.questions,\n                            edugameId: this.edugameId,\n                            score: grade\n                        })\n                }\n            }\n\n            class StartScreen extends Phaser.Scene {\n                constructor() {\n                    super('StartScreen');\n                }\n\n                preload() {\n                    this.load.image('startGameButton', 'pix/gui/startGameIcon.png');\n                    this.load.image('sky', 'pix/background.png');\n                    this.load.image('cloud', 'pix/cloud.png');\n                    this.load.multiatlas('player', 'pix/character.json', 'pix');\n                    this.load.image('dirt', 'pix/dirt.png');\n                }\n\n                create(data) {\n                    var button = this.add.image(400, 300, 'startGameButton')\n                    button.setInteractive();\n                    this.input.on('pointerup', function (pointer) {\n                        this.scene.start('GameScreen', data);\n                    }, this);\n                }\n\n                update() {\n\n                }\n\n            }\n\n            class ResultScreen extends Phaser.Scene {\n                constructor() {\n                    super('ResultScreen');\n                    this.score;\n                    this.questions;\n                    this.edugameId;\n                }\n\n                init(data) {\n                    this.score = data.score;\n                    this.questions = data.questions;\n                    this.edugameId = data.edugameId;\n                }\n\n                preload() {\n\n                }\n\n                create() {\n                    var resultText = this.add.text(400, 250, 'Rezultatas: ' + this.score, { fontSize: \"25px\", fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' });\n                    resultText.setOrigin(0.5);\n                    var button = this.add.image(400, 300, 'startGameButton');\n                    button.setInteractive();\n                    this.input.on('pointerup', function (pointer) {\n                        this.scene.start('GameScreen',\n                            {\n                                questions: this.questions,\n                                edugameId: this.edugameId,\n                            });\n                    }, this);\n                }\n\n                update() {\n\n                }\n\n            }\n\n            var config = {\n                type: Phaser.AUTO,\n                width: 800,\n                height: 600,\n                physics: {\n                    default: 'arcade',\n                    arcade: {\n                        gravity: { y: 300 },\n                        debug: false\n                    }\n                },\n                scene: [StartScreen, GameScreen, ResultScreen],\n                parent: \"mod_edugame_game\"\n            };\n\n            const game = new Phaser.Game(config);\n            game.scene.start('StartScreen', {\n                questions: q,\n                edugameId: qid\n            })\n\n        }\n    };\n});"],"file":"game.min.js"}