{"version":3,"sources":["../src/game.js"],"names":["require","config","paths","define","Three","Phaser","init","q","qid","type","AUTO","width","height","physics","default","arcade","gravity","y","debug","scene","preload","load","image","multiatlas","create","update","cursors","input","keyboard","createCursorKeys","left","isDown","player","setFlipX","setVelocityX","anims","play","right","up","body","blocked","down","setVelocityY","parent","game","Game","testQuestions","clouds","score","scoreText","answersText","level","questions","question","answers","answer","add","console","log","length","staticGroup","position","i","push","text","fontFamily","sprite","setBounce","setCollideWorldBounds","key","frames","frame","frameRate","overlap","touchCloud","fontSize","fill","cloud","disableBody","setText","destroy"],"mappings":"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","sourcesContent":["// Put this file in path/to/plugin/amd/src\r\n// You can call it anything you like\r\nrequire.config({\r\n    paths: {\r\n        \"Three\": \"https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min\",\r\n        \"Phaser\": \"https://cdnjs.cloudflare.com/ajax/libs/phaser/3.22.0/phaser.min\"\r\n    }\r\n});\r\n\r\n// https://phaser.discourse.group/t/is-it-possible-to-use-phaser-3-with-amd-requirejs-and-typescript/2961/5\r\n\r\ndefine(['Three', 'Phaser', 'jquery', 'core/yui', 'core/notification', 'core/ajax'], function (Three, Phaser, $, Y, notification, ajax) {\r\n\r\n    return {\r\n        init: function (q, qid) {\r\n\r\n            var config = {\r\n                type: Phaser.AUTO,\r\n                width: 800,\r\n                height: 600,\r\n                physics: {\r\n                    default: 'arcade',\r\n                    arcade: {\r\n                        gravity: { y: 300 },\r\n                        debug: false\r\n                    }\r\n                },\r\n                scene: {\r\n                    preload: preload,\r\n                    create: create,\r\n                    update: update\r\n                },\r\n                parent: \"mod_edugame_game\"\r\n            };\r\n\r\n            var game = new Phaser.Game(config);\r\n\r\n            var testQuestions = q;\r\n            var gameId = qid;\r\n            var clouds;\r\n            var score = 0;\r\n            var scoreText;\r\n            var questionText;\r\n            var answersText = [];\r\n            var level = 1;\r\n\r\n\r\n            var questions = [\r\n                {\r\n                    question: \"klausimas1 \", answers: [\r\n                        { answer: \"atsakymas1\" },\r\n                        { answer: \"atsakymas2\" },\r\n                        { answer: \"atsakymas3\" }\r\n                    ]\r\n                },\r\n                {\r\n                    question: \"klausimas2 \", answers: [\r\n                        { answer: \"atsakymas4\" },\r\n                        { answer: \"atsakymas5\" },\r\n                        { answer: \"atsakymas6\" }\r\n                    ]\r\n                },\r\n                {\r\n                    question: \"klausimas3 \", answers: [\r\n                        { answer: \"atsakymas7\" },\r\n                        { answer: \"atsakymas8\" },\r\n                        { answer: \"atsakymas9\" }\r\n                    ]\r\n                }\r\n            ]\r\n\r\n            function preload() {\r\n                this.load.image('sky', 'pix/Background.png');\r\n                this.load.image('cloud', 'pix/gui/cloud.png');\r\n                this.load.multiatlas('player', 'pix/runner2.json', 'pix');\r\n            }\r\n\r\n            function create() {\r\n                this.add.image(400, 300, 'sky');\r\n                console.log(\"klausimasi \" + testQuestions.length + \" \" + testQuestions)\r\n                clouds = this.physics.add.staticGroup();\r\n\r\n                var position = 50;\r\n                for (var i = 0; i < questions[0].answers.length; i++) {\r\n                    clouds.create(position, 50, 'cloud');\r\n                    answersText.push(this.add.text(position, 0, questions[0].answers[i].answer, { fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }))\r\n                    position += 280\r\n                }\r\n\r\n                player = this.physics.add.sprite(100, 450, 'player', 'character/run/05.png');\r\n\r\n                player.setBounce(0.2);\r\n                player.setCollideWorldBounds(true);\r\n\r\n                questionText = this.add.text(0, 0, questions[0].question, { fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' });\r\n\r\n\r\n                const frameNames = [\r\n                    { key: 'player', frame: 'character/run/05.png' },\r\n                    { key: 'player', frame: 'character/run/01.png' },\r\n                    { key: 'player', frame: 'character/run/02.png' },\r\n                    { key: 'player', frame: 'character/run/03.png' },\r\n                    { key: 'player', frame: 'character/run/04.png' },\r\n                    { key: 'player', frame: 'character/run/05.png' },\r\n                ]\r\n                this.anims.create({ key: 'walk', frames: frameNames, frameRate: 20 });\r\n                this.physics.add.overlap(player, clouds, touchCloud, null, this);\r\n                scoreText = this.add.text(16, 16, 'score: 0', { fontSize: '32px', fill: '#000' });\r\n            }\r\n\r\n            function update() {\r\n                cursors = this.input.keyboard.createCursorKeys();\r\n                if (cursors.left.isDown) {\r\n                    player.setFlipX(true);\r\n                    player.setVelocityX(-200);\r\n                    player.anims.play('walk', true);\r\n\r\n                }\r\n                else if (cursors.right.isDown) {\r\n                    player.setFlipX(false);\r\n                    player.setVelocityX(200);\r\n                    player.anims.play('walk', true);\r\n                }\r\n                else {\r\n                    player.setVelocityX(0);\r\n                }\r\n\r\n                if (cursors.up.isDown && player.body.blocked.down) {\r\n                    player.setVelocityY(-730);\r\n                }\r\n            }\r\n\r\n            function touchCloud(player, cloud) {\r\n                cloud.disableBody(true, true);\r\n\r\n                score += 10;\r\n                scoreText.setText('Score: ' + score);\r\n                level++;\r\n                questionText = this.add.text(0, 0, questions[level - 1].question, { fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' });\r\n                for (var i in answersText) {\r\n                    answersText[i].destroy();\r\n                }\r\n                answersText = []\r\n                var position = 50\r\n                for (var i in questions[level - 1].answers) {\r\n                    answersText.push(this.add.text(position, 0, questions[level - 1].answers[i].answer, { fontFamily: 'Georgia, \"Goudy Bookletter 1911\", Times, serif' }))\r\n                    position += 280\r\n                }\r\n            }\r\n        }\r\n    };\r\n});"],"file":"game.min.js"}